{% extends "base.html" %}
{% block content %}

<div class="container">
    <h1>{{ 'Editar Ticket' if ticket else 'Crear Ticket' }}</h1>

    <form method="POST">

        <label>Título</label>
        <input type="text" name="titulo" value="{{ ticket.titulo if ticket else '' }}" required>

        <label>Descripción</label>
        <textarea name="descripcion" required>{{ ticket.descripcion if ticket else '' }}</textarea>

        <label>Fecha</label>
        <input type="date" name="fecha">

        <label>Hora</label>
        <input type="time" name="hora">

        <label>Estado</label>
        <select name="estado">
            <option value="Nuevo">Nuevo</option>
            <option value="En proceso">En proceso</option>
            <option value="Cerrado">Cerrado</option>
        </select>

        <label>Prioridad</label>
        <select name="prioridad">
            <option value="Baja">Baja</option>
            <option value="Media">Media</option>
            <option value="Alta">Alta</option>
        </select>

        <hr>

        <label>Nombre del cliente</label>
        <input type="text" name="nombre_cliente" required>

        <label>Teléfono</label>
        <input type="text" name="telefono_cliente" required>

        <label>Correo</label>
        <input type="email" name="correo_cliente" required>

        <hr>

        <label>Tipo de problema</label><br>
        <input type="checkbox" name="tipo_problema" value="Hardware"> Hardware
        <input type="checkbox" name="tipo_problema" value="Software"> Software
        <input type="checkbox" name="tipo_problema" value="Red"> Red
        <input type="checkbox" name="tipo_problema" value="Otro"> Otro

        <hr>

        <label>Fuente del ticket</label><br>
        <input type="checkbox" name="fuente_ticket" value="Llamada"> Llamada
        <input type="checkbox" name="fuente_ticket" value="Correo"> Correo
        <input type="checkbox" name="fuente_ticket" value="WebChat"> WebChat
        <input type="checkbox" name="fuente_ticket" value="Presencial"> Presencial

        <hr>

        <label>Técnico a cargo</label>
        <input type="text" name="tecnico_a_cargo">

        <label>Medidas adoptadas</label>
        <textarea name="medidas_adoptadas"></textarea>

        <label>Resolución</label>
        <textarea name="resolucion"></textarea>

        <br><br>
        <button type="submit" class="btn-primary">
            {{ 'Guardar cambios' if ticket else 'Crear ticket' }}
        </button>

        <a href="{{ url_for('ticket.list_tickets') }}" class="btn-secondary">Volver</a>
    </form>
</div>

{% endblock %}
