{% extends "base.html" %}

{% block content %}
<div class="container">
    <h1>Nuevo Ticket</h1>

    <form method="POST">
        <!-- Título -->
        <label>Título</label>
        <input type="text" name="titulo" required>

        <!-- Descripción -->
        <label>Descripción</label>
        <textarea name="descripcion" required></textarea>

        <!-- Fecha y hora -->
        <label>Fecha y hora</label>
        <div style="display:flex; gap:10px;">
            <input type="date" name="fecha" required>
            <input type="time" name="hora" required>
        </div>

        <!-- Estado -->
        <label>Estado</label>
        <select name="estado" required>
            <option value="Nuevo">Nuevo</option>
            <option value="Apertura">Apertura</option>
            <option value="Resuelto">Resuelto</option>
            <option value="Cierre">Cierre</option>
            <option value="Escalado">Escalado</option>
        </select>

        <!-- Prioridad -->
        <label>Prioridad</label>
        <select name="prioridad" required>
            <option value="Baja">Baja</option>
            <option value="Media">Media</option>
            <option value="Alta">Alta</option>
        </select>

        <!-- Cliente -->
        <label>Nombre del cliente</label>
        <input type="text" name="nombre_cliente" required>

        <label>Teléfono</label>
        <input type="text" name="telefono_cliente" required>

        <label>Correo electrónico</label>
        <input type="email" name="correo_cliente" required>

        <!-- Tipo de problema -->
        <label>Tipo de problema</label>
        <select name="tipo_problema" required>
            <option value="Hardware">Hardware</option>
            <option value="Movil">Móvil</option>
            <option value="Red">Red</option>
            <option value="Otro">Otro</option>
        </select>

        <!-- Fuente del ticket (COMO SELECT, NO PUNTITOS) -->
        <label>Fuente del ticket</label>
        <select name="fuente_ticket" required>
            <option value="Llamada">Llamada</option>
            <option value="Correo">Correo</option>
            <option value="WebChat">WebChat</option>
            <option value="Presencial">Presencial</option>
        </select>

        <!-- Botones -->
        <div style="margin-top:20px;">
            <button type="submit" class="btn btn-primary">Crear ticket</button>
            <a href="{{ url_for('ticket.list_tickets') }}" class="btn btn-secondary">
                ← Volver al listado
            </a>
        </div>
    </form>
</div>
{% endblock %}
